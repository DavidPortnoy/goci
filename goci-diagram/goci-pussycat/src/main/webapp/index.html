<!DOCTYPE html>

<html lang="eng">
<head>
    <title>GOCI | GWAS Diagram Browser</title>

    <link href="css/pussycat.css" type="text/css" rel="stylesheet"/>
    <link href="css/jquery-ui-1.8.18.custom.css" type="text/css" rel="stylesheet"/>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js"></script>
    <script type="text/javascript" src="scripts/pussycat.js"></script>
    <script type="text/javascript" src="scripts/jquery.mousewheel.min.js"></script>
    <script type="text/javascript" src="scripts/jquery.event.drag-2.0.min.js"></script>
    <script type="text/javascript" src="scripts/slides.min.jquery.js"></script>

</head>

<body onload="init();">
<div id="page_wrapper">

<div id="header_wrapper">

    <div id="header">
        <h1>GWAS Diagram Browser</h1>

        <h2>Exploring Genome-wide Association Studies</h2>

        <p>
            <label for="trait-filter">Filter:</label>
            <input type="text"
                   id="trait-filter"
                   name="trait-filter"
                   title="Filter Traits"
                   onkeypress="doFilterOnEnter(event);"
                   size="50"/>
            <a id="clearbutton" href="#" style="font-weight: bold">Clear filters</a>
        </p>
    </div>
</div>

<div id="divtable">

<div id="browsertabs">

<div id="legendrevealer">
    <div id="legendwrapper">
        <a id="legendbutton" href="#" style="font-weight: bold; width: 120px;">
            Show Legend
        </a>

        <div class="legend">
            <h4>SNP-associated trait categories</h4>
            <svg
                    xmlns="http://www.w3.org/2000/svg" version="1.1"
                    height="405"
                    width="800">
                <title>Colour key</title>
                <g transform="scale(1.5,1.5)">

                    <circle id="CARDIO_VASCULAR"
                            fill="#8DD3C7"
                            r="5"
                            cx="10"
                            cy="10"
                            stroke="black"
                            stroke-width="0.5"></circle>
                    <text x="20" y="12" font-family="Verdana" font-size="8" fill="black">Cardiovascular disorder</text>
                    <circle id="NEURO" fill="#FFFFB3" r="5" cx="10" cy="25" stroke="black" stroke-width="0.5"></circle>
                    <text x="20" y="27" font-family="Verdana" font-size="8" fill="black">Neurological disorder</text>
                    <circle id="IMMUNE" fill="#BEBADA" r="5" cx="10" cy="40" stroke="black" stroke-width="0.5"></circle>
                    <text x="20" y="42" font-family="Verdana" font-size="8" fill="black">Immune system disorder</text>
                    <circle id="DIGESTIVE" fill="#80B1D3" r="5" cx="10" cy="55" stroke="black" stroke-width="0.5"></circle>
                    <text x="20" y="57" font-family="Verdana" font-size="8" fill="black">Digestive system disorder</text>
                    <circle id="NEOPLASM" fill="#FB8072" r="5" cx="10" cy="70" stroke="black" stroke-width="0.5"></circle>
                    <text x="20" y="72" font-family="Verdana" font-size="8" fill="black">Cancer</text>

                    <circle id="METABOLIC" fill="#FDB462" r="5" cx="10" cy="85" stroke="black" stroke-width="0.5"></circle>
                    <text x="20" y="87" font-family="Verdana" font-size="8" fill="black">Metabolic disorder</text>

                    <circle id="DISEASE" fill="#FCCDE5" r="5" cx="10" cy="100" stroke="black" stroke-width="0.5"></circle>
                    <text x="20" y="102" font-family="Verdana" font-size="8" fill="black">Other disease [1]</text>

                    <circle id="BODY_MSR" fill="#66CCFF" r="5" cx="10" cy="115" stroke="black" stroke-width="0.5"></circle>
                    <text x="20" y="117" font-family="Verdana" font-size="8" fill="black">Body measurements</text>

                    <circle id="LIPID_LIPOPROT_MSR"
                            fill="#FF3399"
                            r="5"
                            cx="10"
                            cy="130"
                            stroke="black"
                            stroke-width="0.5"></circle>
                    <text x="20" y="132" font-family="Verdana" font-size="8" fill="black">Lipid or lipoprotein measurement
                    </text>

                    <circle id="CARDIO_MSR" fill="#BC80BD" r="5" cx="10" cy="145" stroke="black" stroke-width="0.5"></circle>
                    <text x="20" y="147" font-family="Verdana" font-size="8" fill="black">Cardio vascular measurements</text>

                    <circle id="HEMATOLOGICAL_MSR"
                            fill="#FFED6F"
                            r="5"
                            cx="10"
                            cy="160"
                            stroke="black"
                            stroke-width="0.5"></circle>
                    <text x="20" y="162" font-family="Verdana" font-size="8" fill="black">Hematological measurement</text>

                    <circle id="INFLAMMATORY_MSR"
                            fill="#006699"
                            r="5"
                            cx="10"
                            cy="175"
                            stroke="black"
                            stroke-width="0.5"></circle>
                    <text x="20" y="177" font-family="Verdana" font-size="8" fill="black">Inflammatory marker measurement</text>

                    <circle id="LIVER_ENZYME" fill="#669900" r="5" cx="10" cy="190" stroke="black" stroke-width="0.5"></circle>
                    <text x="20" y="192" font-family="Verdana" font-size="8" fill="black">Liver enzyme measurement</text>

                    <circle id="MEASUREMENT" fill="#B3DE69" r="5" cx="10" cy="205" stroke="black" stroke-width="0.5"></circle>
                    <text x="20" y="207" font-family="Verdana" font-size="8" fill="black">Other measurement [2]</text>

                    <circle id="CHEMICAL" fill="#CCEBC5" r="5" cx="10" cy="220" stroke="black" stroke-width="0.5"></circle>
                    <text x="20" y="222" font-family="Verdana" font-size="8" fill="black">Chemical compound</text>

                    <circle id="BIO_PROCESS" fill="#B7704C" r="5" cx="10" cy="235" stroke="black" stroke-width="0.5"></circle>
                    <text x="20" y="237" font-family="Verdana" font-size="8" fill="black">Biological process</text>

                    <circle id="OTHER" fill="#B33232" r="5" cx="10" cy="250" stroke="black" stroke-width="0.5"></circle>
                    <text x="20" y="252" font-family="Verdana" font-size="8" fill="black">Other traits</text>

                    <circle id="UNMAPPED"
                            fill="#FFFFFF"
                            r="5"
                            cx="10"
                            cy="265"
                            stroke="black"
                            stroke-width="0.5"></circle>
                    <text x="20" y="267" font-family="Verdana" font-size="8" fill="black"> Trait mapping in progress</text>


                </g>
            </svg>

            <!--<p>[1] Includes any kind of disease not included in any of the preceeding categories.</p>-->

            <!--<p>[2] Includes any kind of measurement, from levels of metabolites or drugs in the blood such as adiponection-->
                <!--measurement, to clinical diagnostic tests such as electrocardiograph, that is not covered by one of the-->
                <!--preceeding categories</p>-->

        </div>
    </div>
</div>

<ul id="pussycattabs">
    <li><a href="#diagramtab">GWAS Diagram</a></li>
    <li><a href="#timeseriestab">Time Series View</a></li>
    <li><a href="#downloadstab">Downloads</a></li>
    <!--<li><a href="#keytab">Key</a></li>-->
    <li><a href="#helptab">Help</a></li>
    <li><a href="#contacttab">Contact</a></li>
    <li><a href="#abouttab">About</a></li>
    <li id="logitem" style="display: none"><a href="#logtab">Log</a></li>
</ul>

<div id="tabs">
<div id="diagramtab" class="tabcontent">
    <div>This diagram shows all SNP-trait associations with a p-value smaller than 5 x 10<sup>-8</sup>, published in the
        catalogue up to the end of June 2012. For information on how to navigate the diagram, see the help tab.
    </div>

    <div id="diagramarea" class="ui-widget-content">
        <div id="diagramareaerror" style="text-align: center; display: none">
            <img src="images/loader.gif" alt="Please wait - diagram loading"/><br/>
            <span id="diagramareaerrortext"></span><br/>
            <a id="retrybutton" href="#" style="font-weight: bold">Retry</a>

            <p><a href="images/timeseries/gwas-2012-06.png">A static version of the diagram in PNG format can be found
                here</a></p>
        </div>
        <div id="diagramareacontent">
        </div>
    </div>
</div>

<div id="timeseriestab" class="tabcontent">
    <div class="slides_container">
        <div>
            <h3>
                GWAS Catalog<br/>
                <span class="y2005">2005</span><br/>
            </h3>
            <img src="images/timeseries/gwas-2005-12.png" alt="GWAS Catalog, 2005" title="GWAS Catalog, 2005">
        </div>
        <div>
            <h3>
                GWAS Catalog<br/>
                <span class="y2006">2006</span><br/>
                <span class="june">June</span>
            </h3>
            <img src="images/timeseries/gwas-2006-06.png"
                 alt="GWAS Catalog, June 2006"
                 title="GWAS Catalog, June 2006"/>
        </div>
        <div>
            <h3>
                GWAS Catalog<br/>
                <span class="y2006">2006</span><br/>
                <span class="december">December</span>
            </h3>
            <img src="images/timeseries/gwas-2006-12.png"
                 alt="GWAS Catalog, December 2006"
                 title="GWAS Catalog, December 2006"/>
        </div>
        <div>
            <h3>
                GWAS Catalog<br/>
                <span class="y2007">2007</span><br/>
                <span class="june">June</span>
            </h3>
            <img src="images/timeseries/gwas-2007-06.png"
                 alt="GWAS Catalog, June 2007"
                 title="GWAS Catalog, June 2007"/>
        </div>
        <div>
            <h3>
                GWAS Catalog<br/>
                <span class="y2007">2007</span><br/>
                <span class="december">December</span>
            </h3>
            <img src="images/timeseries/gwas-2007-12.png"
                 alt="GWAS Catalog, December 2007"
                 title="GWAS Catalog, December 2007"/>
        </div>
        <div>
            <h3>
                GWAS Catalog<br/>
                <span class="y2008">2008</span><br/>
                <span class="june">June</span>
            </h3>
            <img src="images/timeseries/gwas-2008-06.png"
                 alt="GWAS Catalog, June 2008"
                 title="GWAS Catalog, June 2008"/>
        </div>
        <div>
            <h3>
                GWAS Catalog<br/>
                <span class="y2008">2008</span><br/>
                <span class="december">December</span>
            </h3>
            <img src="images/timeseries/gwas-2008-12.png"
                 alt="GWAS Catalog, December 2008"
                 title="GWAS Catalog, December 2008"/>
        </div>
        <div>
            <h3>
                GWAS Catalog<br/>
                <span class="y2009">2009</span><br/>
                <span class="june">June</span>
            </h3>
            <img src="images/timeseries/gwas-2009-06.png"
                 alt="GWAS Catalog, June 2009"
                 title="GWAS Catalog, June 2009"/>
        </div>
        <div>
            <h3>
                GWAS Catalog<br/>
                <span class="y2009">2009</span><br/>
                <span class="december">December</span>
            </h3>
            <img src="images/timeseries/gwas-2009-12.png"
                 alt="GWAS Catalog, December 2009"
                 title="GWAS Catalog, December 2009"/>
        </div>
        <div>
            <h3>
                GWAS Catalog<br/>
                <span class="y2010">2010</span><br/>
                <span class="june">June</span>
            </h3>
            <img src="images/timeseries/gwas-2010-06.png"
                 alt="GWAS Catalog, June 2010"
                 title="GWAS Catalog, June 2010"/>
        </div>
        <div>
            <h3>
                GWAS Catalog<br/>
                <span class="y2010">2010</span><br/>
                <span class="june">December</span>
            </h3>
            <img src="images/timeseries/gwas-2010-12.png"
                 alt="GWAS Catalog, December 2010"
                 title="GWAS Catalog, December 2010"/>
        </div>
        <div>
            <h3>
                GWAS Catalog<br/>
                <span class="y2011">2011</span><br/>
                <span class="june">June</span>
            </h3>
            <img src="images/timeseries/gwas-2011-06.png"
                 alt="GWAS Catalog, June 2011"
                 title="GWAS Catalog, June 2011"/>
        </div>
        <div>
            <h3>
                GWAS Catalog<br/>
                <span class="y2011">2011</span><br/>
                <span class="december">December</span>
            </h3>
            <img src="images/timeseries/gwas-2011-12.png"
                 alt="GWAS Catalog, December 2011"
                 title="GWAS Catalog, December 2011"/>
        </div>
        <div>
            <h3>
                GWAS Catalog<br/>
                <span class="y2012">2012</span><br/>
                <span class="june">June</span>
            </h3>
            <img src="images/timeseries/gwas-2012-06.png"
                 alt="GWAS Catalog, June 2012"
                 title="GWAS Catalog, June 2012"/>
        </div>
    </div>
</div>

<div id="downloadstab" class="tabcontent">
    <p>Several resources are used to generate the GWAS diagram browser. Some of the files available for download are
        listed below.</p>

    <h3>Images</h3>
    <h4>Most Recent GWAS Diagram</h4>
    <ul>
        <li><a href="images/timeseries/gwas-2012-06.png">Full GWAS diagram, PNG</a></li>
    </ul>
    <h4>Older GWAS Diagrams</h4>
    <ul>
        <li><a href="images/timeseries/gwas-2012-06.png">GWAS diagram, Quarter 2, 2012, PNG</a></li>
        <li><a href="images/timeseries/gwas-2011-12.png">GWAS diagram, Quarter 4, 2011, PNG</a></li>
        <li><a href="images/timeseries/gwas-2011-06.png">GWAS diagram, Quarter 2, 2011, PNG</a></li>
        <li><a href="images/timeseries/gwas-2010-12.png">GWAS diagram, Quarter 4, 2010, PNG</a></li>
        <li><a href="images/timeseries/gwas-2010-06.png">GWAS diagram, Quarter 2, 2010, PNG</a></li>
        <li><a href="images/timeseries/gwas-2009-12.png">GWAS diagram, Quarter 4, 2009, PNG</a></li>
        <li><a href="images/timeseries/gwas-2009-06.png">GWAS diagram, Quarter 2, 2009, PNG</a></li>
        <li><a href="images/timeseries/gwas-2008-12.png">GWAS diagram, Quarter 4, 2008, PNG</a></li>
        <li><a href="images/timeseries/gwas-2008-06.png">GWAS diagram, Quarter 2, 2008, PNG</a></li>
        <li><a href="images/timeseries/gwas-2007-12.png">GWAS diagram, Quarter 4, 2007, PNG</a></li>
        <li><a href="images/timeseries/gwas-2007-06.png">GWAS diagram, Quarter 2, 2007, PNG</a></li>
        <li><a href="images/timeseries/gwas-2006-12.png">GWAS diagram, Quarter 4, 2006, PNG</a></li>
        <li><a href="images/timeseries/gwas-2006-06.png">GWAS diagram, Quarter 2, 2006, PNG</a></li>
        <li><a href="images/timeseries/gwas-2005-12.png">GWAS diagram, Quarter 4, 2005, PNG</a></li>
    </ul>

    <h3>Ontology Files</h3>
    <span style="font-weight: bold; color: red;">CAUTION:</span> Some of these files may be very large - attempting to
    open them in your browser may take a very long time.<br/>
    It is usually safest to right-click and choose "save as..." to download these files.

    <h4>Experimental Factor Ontology</h4>
    <ul>
        <li><a href="http://www.ebi.ac.uk/efo/efo.owl">http://www.ebi.ac.uk/efo/efo.owl, OWL</a> [ ~10MB ]</li>
    </ul>
    <h4>GWAS Catalog Ontologies</h4>
    <ul>
        <li><a href="ontology/gwas-diagram.owl">GWAS Catalog schema ontology, OWL</a> [ ~16 KB ]</li>
        <li><a href="ontology/gwas-diagram-data-2012-08.owl">GWAS Catalog data knowledgebase, OWL</a> [ ~14MB ]</li>
    </ul>

</div>

<div id="helptab" class="tabcontent">
    <p> This section aims to provide some guidance on how the use the new dynamic GWAS diagram. For an
        introduction
        to the GWAS catalog, see the "About" tab.</p>
    <ul>
        <li><b>Initial diagram generation:</b> When the "GWAS Diagram" tab is first selected, there may be a
            delay of up to
            30s before the diagram is rendered. This is because all the information in the diagram is
            rendered dynamically,
            and this requires a certain amount of processing. Please be patient and do not try to reload
            as this will simply
            cause the rendering process to restart.
        </li>
        <li><b>Number of studies:</b> The beta version of the GWAS diagram shows SNP-trait associations with a p-value
            smaller than 5 &#215; 10<sup>-8</sup>, for all studies published in the catalogue up to the end of
            June 2012.
        </li>
        <li><b>Zooming:</b> There are two ways in which the diagram can be zoomed. The easiest option is to use the
            scroll wheel on the mouse or touch pad on a laptop. Scrolling
            up zooms in and scrolling down zooms out. This feature may not work with all touch pads. Alternatively, the
            left-hand side of the diagram features a zoom bar which can be
            used to generate exactly the same effect, by dragging the little square up or down the bar with the mouse
            pointer.
        </li>
        <li><b>Moving the diagram:</b> The diagram can be moved around the viewing area by clicking on any part of the
            diagram with the left mouse button and,
            holding the mouse button down, dragging the diagram around the screen until the desired part is visible.
            This feature is particularly useful for centering the
            diagram on a specific location at higher zoom levels.
        </li>
        <li><b>Labels:</b> Chromosomes and traits (coloured circles) have labels that display when hovering the mouse
            pointer over
            a given element.
        </li>



        <!--             <li><b>Number of traits:</b> Some chromosomal regions have large numbers of traits associated with them. In order to keep the
diagram readable, no more than six traits will be displayed for any region for the full diagram. If there are more traits available
for a given region, this is indicated by the presence of an ellipsis (...) at the end of a line of traits. At present, this ellipsis
is static, i.e. it is not possible to access the undisplayed traits through it. We are currently working on a feature that
generates a zoomed-in version of the corresponding region if an ellipsis is clicked on.</li> -->
        <li><b>Colours:</b> A new colour scheme for the GWAS diagram is currently under development. A legend of the
            colour scheme, based on the EFO class hierarchy, detailing which colour
            represents which trait or category of traits is given in the "Key" tab. This will soon be added to the
            diagram page. At present, white represents traits for which
            not colour category is available yet.
        </li>
        <li><b>Filtering:</b> Various filtering capabilities are currently under development. They will include
            filtering the diagram by
            one or more GWAS traits or trait categories, filtering by study, chromosomal region and p-value. New
            features will be made
            available for testing as soon as they are implemented so check back regularly for updates.
        </li>
    </ul>
    <br>

    <p>For questions, feature requests or bug reports, please contact <a href="mailto:dwelter@ebi.ac.uk">Dani Welter</a>
        at EBI. In particular, please let
        us know if a given feature does not behave as described. Always specify in which web browser, including which
        version, and which operating system the problem occurred.
        This application is tested in all the latest versions of Mozilla Firefox, Google Chrome, Safari and Internet
        Explorer. If you find an older browser version which does not work, please let us know. In this event, <b><a
                href="images/GWASdiagram.png">click here for a static version of the diagram in PNG format</a></b>.</p>
</div>

<div id="abouttab" class="tabcontent">
    <div>
        <img src="images/topbanner.jpg" alt="NHGRI banner"/>
        <img src="images/ebilogo.gif" alt="EBI banner" style="float: right">
    </div>

    <h3>Background</h3>

    <p>The National Human Genome Research Institute (NHGRI) Catalog of Published Genome-Wide Association
        Studies or GWAS catalogue provides a quality controlled, manually curated, literature-derived
        collection of all published GWA studies assaying at least 100,000 SNPs and all SNP-trait
        associations with p-values < 1.0 &lowast; 10<sup>-5</sup> <i>(Hindorff et al., 2009)</i>.
        Publicly available at <a href="http://www.genome.gov/gwastudies">http://www.genome.gov/gwastudies</a>,
        the catalogue can be searched by a number of options including journal, first author, trait,
        chromosomal region, gene, SNP, odds ratio and p-value threshold. As of 06/04/12, it includes
        1233 publications and 6186 SNPs. In addition to the SNP-trait association data, the catalogue
        also publishes the iconic GWAS diagram of all SNP-trait associations mapped to the SNPs&rsquo;
        chromosomal locations. The diagram is released quarterly and the latest version of the diagram
        is made available on the GWAS catalogue website in PDF format and as a PowerPoint slide.</p>

    <p>This page hosts a novel system that generates the GWAS diagram dynamically
        using semantic web technologies. Ultimately, the diagram produced in this
        fashion can be filtered and searched at different levels of granularity and by different
        criteria, including trait, chromosomal region and publication date. It is going to be possible to zoom in
        over chromosomes in order to see all SNP-trait associations for a given region. SNP-trait
        associations are also
        going to be interactive, providing summary information on mouse-over as well as being clickable
        to allow proceeding from an association to the catalogue entry and to the publication.</p>

    <br>

    <h3>Status update</h3>

    <p>
        This is a list of features currently (or soon to be) available in the diagram:
    <ul>
        <li><b>Colours:</b> A new colour scheme for the diagram is under development in collaboration
            with the NHGRI GWAS catalog curation team.
        </li>
        <li><b>Mouse-over:</b> Hovering over a chromosome or coloured circle displays the name of the
            corresponding chromosome or trait.
        </li>
        <li><b>Filtering options:</b> Filtering capabilities will be rolled out for testing as soon as
            they are implemented. Basic filtering options should be available in the next few weeks.
        </li>
    </ul>
    Please select the "Help" tab for a guide on how to use the GWAS diagram.
    <br>

    <p style="font-size:80%">Hindorff, L.A., Sethupathy, P., Junkins, H.A., Ramos, E.M., Mehta, J.P.,
        Collins, F.S. and Manolio, T.A. (2009) Potential Etiologic and Functional Implications of
        Genome-Wide Association Loci of Human Diseases and Traits. <i>Proc. Natl. Acad. Sci. USA.</i>
        106, 9362&ndash;9367.</p>

</div>

<div id="contacttab" class="tabcontent">
    <p>For questions and to provide feedback, please contact <a href="mailto:dwelter@ebi.ac.uk">Dani Welter</a> at EBI.
    </p>

    <p>For bug reports and feature requests, please use our <a href="http://www.ebi.ac.uk/panda/jira/browse/GOCI">bug
        tracker</a>. </p>
</div>

<div id="logtab" class="tabcontent" style="display: none;">
    <h4>SVG transform debugging:</h4>

    <div id="scale-debugging" class="debugging">
        Scale | <span id="scale"></span><br/>
        Div Drag | x: <span id="xOffset"></span>; y: <span id="yOffset"></span><br/>
        SVG Drag | x: <span id="xOffsetSVG"></span>; y: <span id="yOffsetSVG"></span>;
    </div>
    <h4>Log output:</h4>

    <div id="log" class="debugging">

    </div>
</div>
</div>
</div>
</div>
</div>

<div id="tooltip" class="ui-widget-header tooltip" style="display: none;">
    <span id="tooltip-text"></span>
</div>

<div id="zoom-and-pan" class="navbar" style="display: none;">
    <div id="pan"></div>
    <!-- todo - do we need a pan button too? -->
    <div id="zoomInButton" class="zoom-button ui-icon ui-icon-circle-plus"></div>
    <div id="zoom" style="height: 90%"></div>
    <div id="zoomOutButton" class="zoom-button ui-icon ui-icon-circle-minus"></div>
</div>

</body>
</html>